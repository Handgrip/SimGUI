<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Sim</title>
        <script>
            window.$ = window.jQuery = require("jquery");
        </script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        />
    </head>
    <body>
        <div class="container-md">
            <div class="row my-2">
                <div class="col">
                    <form id="form" role="form" onsubmit="">
                        <div class="form-group">
                            <label for="directory-input">代码文件夹</label>
                            <div class="row">
                                <div class="col col-9">
                                    <input
                                        type="text"
                                        id="directory-input"
                                        class="form-control"
                                    />
                                </div>
                                <div class="col col-3">
                                    <button
                                        type="button"
                                        onclick="chooseDirectory()"
                                        class="btn btn-primary"
                                    >
                                        选择文件夹
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-file-fliter">文件过滤器</label>
                            <textarea
                                id="input-file-fliter"
                                cols="30"
                                rows="2"
                                class="form-control"
                            >
(filename) => true</textarea
                            >
                        </div>
                        <div class="form-group">
                            <button
                                type="button"
                                class="btn btn-primary"
                                onclick="processInputFileFilter()"
                            >
                                过滤
                            </button>
                        </div>
                        <div class="form-group">
                            <label for="file-list">文件列表</label>
                            <textarea
                                id="file-list"
                                cols="30"
                                rows="10"
                                class="form-control"
                            ></textarea>
                        </div>
                        <div class="form-group">
                            <label for="language-select">语言</label>
                            <select id="language-select" class="form-control">
                                <option value="0">8086</option>
                                <option value="1">C</option>
                                <option value="2" selected>C++</option>
                                <option value="3">Java</option>
                                <option value="4">lisp</option>
                                <option value="5">m2</option>
                                <option value="6">mira</option>
                                <option value="7">pasc</option>
                                <option value="8">Text</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="threshold">阈值</label>
                            <input
                                id="threshold"
                                type="number"
                                step="1"
                                min="0"
                                max="100"
                                class="form-control"
                                value="75"
                            />
                        </div>
                        <div class="form-group">
                            <label for="result-fliter">结果过滤器</label>
                            <textarea
                                id="result-fliter"
                                cols="30"
                                rows="5"
                                class="form-control"
                            >
(fileAName, fileBName, percentage) => {
  const A = fileAName.split("-");
  const B = fileBName.split("-");
  return A[0] != B[0] && A[1] == B[1];
};
                            </textarea>
                        </div>
                        <div class="form-group">
                            <button
                                type="button"
                                class="btn btn-primary"
                                onclick="processSIM()"
                            >
                                执行
                            </button>
                        </div>
                    </form>
                    <label for="sim-stdout">sim-stdout</label>
                    <pre
                        id="sim-stdout"
                        class="bg-light text-info"
                        style="max-height: 300px"
                    >
Null</pre
                    >
                    <label for="sim-stderr">sim-stderr</label>
                    <pre
                        id="sim-stderr"
                        class="bg-light text-info"
                        style="max-height: 100px"
                    >
Null</pre
                    >
                    <!-- <div style="overflow-y: auto; max-height: 300px"> -->
                    <table
                        class="table table-striped table-hover"
                        id="result-table"
                    >
                        <thead>
                            <tr>
                                <th>文件 A</th>
                                <th>文件 B</th>
                                <th>相似度</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-center">
                                <th colspan="3">点击条目查看对比</th>
                            </tr>
                        </tbody>
                    </table>
                    <!-- </div> -->
                </div>
            </div>
        </div>

        <div
            class="modal fade bd-example-modal-xl"
            id="diffModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="diffModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="diffModalLabel">Diff</h5>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div
                            id="container"
                            style="
                                height: 550px;
                                width: 100%;
                                border: 1px solid grey;
                            "
                        ></div>
                    </div>
                </div>
            </div>
        </div>
        <script src="./js/index.js"></script>
    </body>
</html>
